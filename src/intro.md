# 简介

## 项目 logo

![LOGO](logo.svg)

## 选题背景

generals.io 是一款多人在线棋类游戏，玩家可以在游戏中控制自己的士兵，通过战斗来占领地图上的城堡、其他玩家的王冠等。

但是在游玩过程中，经常会有这样的问题发生：或是因为误触，或是因为网络延迟，或是因为决策失误导致对局失败。那么我们会思考：有没有一种方式能够避免这样的情况发生呢？

作为计算机专业的学生，并且是对 AI 算法有一定了解的开发人员，我们想要为用户解放双手，让用户自行编写 AI 算法，在参与游戏的同时又提升了对 AI 算法的理解。

Valyria 是基于 generals.io 游戏规则的在线 AI 对战平台，玩家需要通过脚本语言编写自己的 AI 程序，与其他玩家的 AI 程序进行对战。

通过编写 AI 脚本，玩家可以学习基础的编程知识，同时也可以学习到一些基础的游戏 AI 算法。

## 用户画像

Valyria 的用户画像是：

- 计算机相关领域专业的学生或者从业者。
- 对编程感兴趣的人或编程初学者。
- 对 AI 算法有一定兴趣或学习倾向。
- 有较为充裕的课余时间/业余时间编写 AI 脚本。

## 需求分析

### NABCD 模型
#### Need

随着互联网信息时代的发展，AI 算法正一步步走进人们的生活。但是与之相对立的现实状况是，大众对于 AI 算法的理解仍浅留于纸面。
为更好培育行业基础，促进行业发展，增进 AI 算法的人群基础培育是刻不容缓的。

#### Approach

Valyria 从以上需求出发，基于 generals.io 的游戏规则，为用户提供了一个与其他玩家 AI 对抗的平台。
同时为了增进趣味性，Valyria 还提供了匹配系统和排位系统，能够给用户一个对于自身 AI 优劣的认识。

#### Benfit

Valyria 从一个有趣的角度，增进了用户对于 AI 算法理解。
同时 Valyria 强调用户对抗，具有一定的竞技性，拉满了用户体验。

#### Competitors

Valyria 基于 generals.io 的游戏逻辑，但是与 generals.io 最大不同点的是：Valyria 要求用户自行完成 AI 脚本，而不是自己操控。
这对用户是一个挑战，但是也是最有趣的一点；同时也是将 Valyria 与 generals.io 区分开来的主要亮点。

#### Delivery

Valyria 为用户提供了分享链接的功能，用户可以将对局的链接分享给他人，在一定程度上促进了项目的推广。
同时，Valyria 拟以各大高校的实验室作为切入点，向主要受众人群推广，具有一定的实际价值。

基于以上分析，Valyria 主要分为三个部分：

- 前端：用户界面，提供用户交互。
- 数据中心：用于存储用户数据、脚本数据、对战数据等。
- 游戏模拟器：用于模拟游戏底层逻辑，提供对战数据。

![SUMMARY](summary.svg)

![CASE](https://s2.loli.net/2022/11/06/9Hr7gOKFM4XSni5.png)

## 竞品分析

与 generals.io 相比，Valyria 的亮点在于：

- 用户需要编写自己的 AI 脚本，而不是直接控制士兵，锻炼用户的算法基础能力。
- 添加了排位系统，玩家可以通过排位赛来提升自己的排名，提高了游戏的竞技性。
- 添加了地图市场功能，玩家可以自定义游戏地图，提高了游戏的自由度。
- 添加了匹配系统，通过玩家的排位匹配到旗鼓相当的对手，并对排名进行调整。

## 类图

### 前端页面

![UML](./frontend/uml.svg)

### 数据中心

![UML](./data-center/uml.svg)

### 游戏模拟
![UML](./simulator/uml.svg)

## 思维导图

![Mindmap](./picture/mindmap.png)

## 界面原型

### 主页

![Mindmap](./picture/Index.png)

### 赛事大厅

![Mindmap](./picture/Contest.png)

### 排行榜

![Mindmap](./picture/Rank.png)

### 战斗历史

![Mindmap](./picture/History.png)

### 登录与注册

![Mindmap](./picture/Login.png)

### 个人资料页

![Mindmap](./picture/Profile.png)

## 功能描述

基于 generals.io 游戏规则，Valyria 为玩家提供在线 AI 对战平台，玩家需要通过脚本语言编写自己的 AI 程序，与其他玩家的 AI 程序进行对战。

基于以上分析，拟实现功能如下：

- generals.io 游戏底层逻辑。
- 允许玩家自行创建对局。
允许玩家自行为 AI 选择对手（甚至是玩家本人之前创建的 AI），
- 提供排位系统以及排位赛功能。
允许玩家通过参加排位赛提高排名，增加趣味性。同时使用以匹配算法为核心的排位系统，使得玩家使用体验更加友好。
- 提供地图市场。
允许玩家自定义游戏地图，并将其开放共享，增加了游戏的自由度。
- 提供对局直播以及历史对局回放。
允许玩家在线观看正在进行的对局以及回放历史对局，能够更好改进自身 AI 算法。

## 验收验证标准


前端：
- 用户界面美观清晰。
- 完成对局的显示动画。
- 能够与数据中心进行数据交换。

数据中心：
- 能够与前端和游戏模拟部分进行数据交换。
- 完成用户管理、用户 AI （脚本）管理、游戏管理、竞赛管理功能。
- 完成匹配系统及排位系统，算法需合理增进玩家体验。
- 完成地图市场核心功能。

游戏模拟：
- 能够与数据中心进行数据交换。
- 支持多场对局同时进行，即做好并行。
- 正确处理游戏逻辑，不存在不合法情况。